/**
 * jQuery ddYMap Plugin
 * @version 1.3 (2014-07-10)
 * 
 * @desc A jQuery library that allows Yandex.Maps to be rendered on a page in a simple way.
 * 
 * @uses jQuery 1.10.2.
 * @uses Yandex.Maps 2.1.
 * 
 * Parameters of the “$.fn.ddYMap” method (transferred as plain object).
 * @param placemarks {array} - Array of placemarks to be put on the map. If there is more than one placemark, the map will be scaled to make all the placemarks visible. Also, a pair of coordinates still can be passed (like it was in 1.2 and earlier). @required
 * @param placemarks[i] {plain object} - Placemark data. @required
 * @param placemarks[i].latLng {array} - Placemark coordinates (latitude and longitude). @required
 * @param placemarks[i].content {string: html} - Balloon content. Default: ''.
 * @param defaultZoom {integer} - Default map zoom. Default: 15.
 * @param defaultType {'map'; 'satellite'; 'hybrid'; 'publicMap'; 'publicMapHybrid'} - Default map type: 'map' — schematic map, 'satellite' — satellite map, 'hybrid' — hybrid map, 'publicMap' — public map, 'publicMapHybrid' - hybrid public map. Default: 'map';
 * @param scrollZoom {boolean} - Allow zoom while scrolling. Default: false.
 * @param mapCenterOffset {array} - Center offset of the map with respect to the center of the map container in pixels. Default: [0, 0].
 * @param placemarkOptions {plain object} - Placemark options. Default: {}.
 * 
 * @link http://code.divandesign.biz/jquery/ddymap/1.3
 * 
 * @copyright 2014, DivanDesign
 * http://www.DivanDesign.biz
 */

(function(b){b.extend(!0,{ddYMap:{defaults:{placemarks:[],element:"map",defaultZoom:15,defaultType:"map",scrollZoom:!1,mapCenterOffset:!1,placemarkOptions:{}},verifyRenamedParams:function(a,d){var c={},f=[];b.each(d,function(d,e){"undefined"!=b.type(a[e])&&"undefined"==b.type(a[d])&&(c[d]=a[e],f.push("\u201c"+e+"\u201d must be renamed as \u201c"+d+"\u201d;"))});if(0<f.length){console.group("$.ddYMap");console.warn("Some of the parameters have been renamed. Please, correct the following parameters:");
for(var e=0;e<f.length;e++)console.warn(f[e]);console.groupEnd()}return c},preparePlacemarks:function(a){var d=new ymaps.GeoObjectCollection;if(!b.isArray(a.placemarks))return d;if(2==a.placemarks.length&&b.isNumeric(a.placemarks[0])&&b.isNumeric(a.placemarks[1]))d.add(new ymaps.Placemark(a.placemarks,{},a.placemarkOptions));else for(var c=0;c<a.placemarks.length;c++)b.isPlainObject(a.placemarks[c])&&b.isArray(a.placemarks[c].latLng)&&2==a.placemarks[c].latLng.length&&d.add(new ymaps.Placemark(a.placemarks[c].latLng,
{balloonContent:"string"==b.type(a.placemarks[c].content)?b.trim(a.placemarks[c].content):""},a.placemarkOptions));return d},init:function(a){var d=this;b.extend(a,d.verifyRenamedParams(a,{defaultZoom:"zoom",placemarks:"latLng"}));a=b.extend({},d.defaults,a);ymaps.ready(function(){var c=d.preparePlacemarks(a),f=c.getLength();if(0<f){var e=new ymaps.Map(a.element,{center:c.get(0).geometry.getCoordinates(),zoom:a.defaultZoom,type:"yandex#"+a.defaultType,controls:[]});e.controls.add("zoomControl").add("typeSelector").add("fullscreenControl").add("geolocationControl").add("rulerControl",
{"float":"left"});a.scrollZoom||e.behaviors.disable("scrollZoom");e.geoObjects.add(c);1<f&&e.setBounds(c.getBounds());b.isArray(a.mapCenterOffset)&&2==a.mapCenterOffset.length&&(c=e.getGlobalPixelCenter(),e.setGlobalPixelCenter([c[0]-a.mapCenterOffset[0],c[1]-a.mapCenterOffset[1]]));b(a.element).data("ddYMap",{map:e}).trigger("ddAfterInit")}})}}});b.fn.ddYMap=function(a){var d=b.ddYMap;return b(this).each(function(){d.init(b.extend(a,{element:this}))})}})(jQuery);