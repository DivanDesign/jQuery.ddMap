!function(e){e.extend(!0,{ddYMap:{defaults:{placemarks:new Array,element:"map",defaultZoom:15,defaultType:"map",scrollZoom:!1,mapCenterOffset:!1,placemarkOptions:{},controls:[{name:"zoomControl"},{name:"typeSelector"},{name:"fullscreenControl"},{name:"geolocationControl"},{name:"rulerControl"}],mapOptions:{suppressMapOpenBlock:!0}},verifyRenamedParams:function(e,a){var t={},n=new Array;if(Object.entries(a).forEach((([a,r])=>{void 0!==e[r]&&void 0===e[a]&&(t[a]=e[r],n.push("“"+r+"” must be renamed as “"+a+"”;"))})),n.length>0){console.group("$.ddYMap"),console.warn("Some of the parameters have been renamed. Please, correct the following parameters:");for(var r=0;r<n.length;r++)console.warn(n[r]);console.groupEnd()}return t},preparePlacemarks:function(a){var t=new ymaps.GeoObjectCollection;if(!Array.isArray(a.placemarks))return t;if(2==a.placemarks.length&&e.isNumeric(a.placemarks[0])&&e.isNumeric(a.placemarks[1]))t.add(new ymaps.Placemark(a.placemarks,{},a.placemarkOptions));else for(var n=0;n<a.placemarks.length;n++)e.isPlainObject(a.placemarks[n])&&Array.isArray(a.placemarks[n].latLng)&&2==a.placemarks[n].latLng.length&&t.add(new ymaps.Placemark(a.placemarks[n].latLng,{balloonContent:"string"==typeof a.placemarks[n].content?e.trim(a.placemarks[n].content):""},a.placemarkOptions));return t},initStatic:function(){this.isStaticInited||(this.isStaticInited=!0,"undefined"==typeof ymaps&&e("head").append('<script defer src="//api-maps.yandex.ru/2.1/?lang='+navigator.language+'"><\/script>'))},init:function(a){var t=this;t.initStatic(),e.extend(a,t.verifyRenamedParams(a,{defaultZoom:"zoom",placemarks:"latLng"})),a=e.extend({},t.defaults,a),ymaps.ready((function(){var n=t.preparePlacemarks(a),r=n.getLength();if(r>0){a.$element=e(a.element),0==a.$element.height()&&a.$element.height(400);var o=new ymaps.Map(a.element,{center:n.get(0).geometry.getCoordinates(),zoom:a.defaultZoom,type:"yandex#"+a.defaultType,controls:[]},a.mapOptions);if(Array.isArray(a.controls)&&a.controls.forEach((e=>{e.name&&o.controls.add(e.name,e.options)})),a.scrollZoom||o.behaviors.disable("scrollZoom"),o.geoObjects.add(n),r>1&&(a.$element.is(":hidden")?o.events.once("sizechange",(function(){o.setBounds(n.getBounds())})):o.setBounds(n.getBounds())),Array.isArray(a.mapCenterOffset)&&2==a.mapCenterOffset.length){var s=o.getGlobalPixelCenter();o.setGlobalPixelCenter([s[0]-a.mapCenterOffset[0],s[1]-a.mapCenterOffset[1]])}a.$element.data("ddYMap",{map:o}).trigger("ddAfterInit")}}))}}}),e.fn.ddYMap=function(a){var t=e.ddYMap;return e(this).each((function(){t.init(e.extend(a,{element:this}))}))},e((function(){e.ddYMap.initStatic()}))}(jQuery);